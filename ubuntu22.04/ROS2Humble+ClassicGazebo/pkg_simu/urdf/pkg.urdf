<?xml version="1.0" ?>
<!-- =================================================================================== -->
<!-- |    This document was autogenerated by xacro from /home/linux/Desktop/ros2_learn/py_ros2_src/ros2_pkg/simu_v1/pkg_simu/urdf/main.xacro | -->
<!-- |    EDITING THIS FILE BY HAND IS NOT RECOMMENDED                                 | -->
<!-- =================================================================================== -->
<robot name="robot_name">
  <!-- 零件描述 -->
  <link name="base_footprint">
    <!-- 外观描述 -->
    <visual>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 长方体 -->
        <box size="0.0 0.0 0.0"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_base_footprint">
        <!-- 颜色 -->
        <color rgba="0.0 0.0 0.0 0.0"/>
      </material>
    </visual>
  </link>
  <!-- 零件描述 -->
  <link name="base_link">
    <!-- 外观描述 -->
    <visual>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱体 -->
        <cylinder length="0.1" radius="0.2"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_base_link">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.8"/>
      </material>
    </visual>
    <!-- 物理描述 -->
    <collision>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱体 -->
        <cylinder length="0.1" radius="0.2"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_base_link">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.8"/>
      </material>
    </collision>
    <!-- 物理属性 -->
    <inertial>
      <mass value="0.5"/>
      <inertia ixx="0.005416666666666668" ixy="0.0" ixz="0.0" iyy="0.005416666666666668" iyz="0.0" izz="0.010000000000000002"/>
    </inertial>
  </link>
  <!-- 固定连接 -->
  <joint name="base_link_j" type="fixed">
    <!-- 父对象 -->
    <parent link="base_footprint"/>
    <!-- 子对象 -->
    <child link="base_link"/>
    <!-- 固定位置 -->
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.055"/>
  </joint>
  <!-- 零件描述 -->
  <link name="left_wheel">
    <!-- 外观描述 -->
    <visual>
      <!-- 相对坐标系 -->
      <origin rpy="1.57 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱体 -->
        <cylinder length="0.02" radius="0.04"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_left_wheel">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.6"/>
      </material>
    </visual>
    <!-- 物理描述 -->
    <collision>
      <!-- 相对坐标系 -->
      <origin rpy="1.57 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱体 -->
        <cylinder length="0.02" radius="0.04"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_left_wheel">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.6"/>
      </material>
    </collision>
    <!-- 物理属性 -->
    <inertial>
      <mass value="0.04"/>
      <inertia ixx="1.7333333333333332e-05" ixy="0.0" ixz="0.0" iyy="1.7333333333333332e-05" iyz="0.0" izz="3.2000000000000005e-05"/>
    </inertial>
  </link>
  <!-- 连续连接 -->
  <joint name="left_wheel_j" type="continuous">
    <!-- 父对象 -->
    <parent link="base_link"/>
    <!-- 子对象 -->
    <child link="left_wheel"/>
    <!-- 固定位置 -->
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.16 -0.02"/>
    <!-- 旋转轴 -->
    <axis xyz="0.0 1.0 0.0"/>
  </joint>
  <!-- 零件描述 -->
  <link name="right_wheel">
    <!-- 外观描述 -->
    <visual>
      <!-- 相对坐标系 -->
      <origin rpy="1.57 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱体 -->
        <cylinder length="0.02" radius="0.04"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_right_wheel">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.6"/>
      </material>
    </visual>
    <!-- 物理描述 -->
    <collision>
      <!-- 相对坐标系 -->
      <origin rpy="1.57 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱体 -->
        <cylinder length="0.02" radius="0.04"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_right_wheel">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.6"/>
      </material>
    </collision>
    <!-- 物理属性 -->
    <inertial>
      <mass value="0.04"/>
      <inertia ixx="1.7333333333333332e-05" ixy="0.0" ixz="0.0" iyy="1.7333333333333332e-05" iyz="0.0" izz="3.2000000000000005e-05"/>
    </inertial>
  </link>
  <!-- 连续连接 -->
  <joint name="right_wheel_j" type="continuous">
    <!-- 父对象 -->
    <parent link="base_link"/>
    <!-- 子对象 -->
    <child link="right_wheel"/>
    <!-- 固定位置 -->
    <origin rpy="0.0 0.0 0.0" xyz="0.0 -0.16 -0.02"/>
    <!-- 旋转轴 -->
    <axis xyz="0.0 1.0 0.0"/>
  </joint>
  <!-- 零件描述 -->
  <link name="front_wheel">
    <!-- 外观描述 -->
    <visual>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 球体 -->
        <sphere radius="0.02"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_front_wheel">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.5"/>
      </material>
    </visual>
    <!-- 物理描述 -->
    <collision>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 球体 -->
        <sphere radius="0.02"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_front_wheel">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.5"/>
      </material>
    </collision>
    <!-- 物理属性 -->
    <inertial>
      <mass value="0.02"/>
      <inertia ixx="3.2000000000000003e-06" ixy="0.0" ixz="0.0" iyy="3.2000000000000003e-06" iyz="0.0" izz="3.2000000000000003e-06"/>
    </inertial>
  </link>
  <!-- 固定连接 -->
  <joint name="front_wheel_j" type="fixed">
    <!-- 父对象 -->
    <parent link="base_link"/>
    <!-- 子对象 -->
    <child link="front_wheel"/>
    <!-- 固定位置 -->
    <origin rpy="0.0 0.0 0.0" xyz="0.16 0.0 -0.04"/>
  </joint>
  <!-- 零件描述 -->
  <link name="back_wheel">
    <!-- 外观描述 -->
    <visual>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 球体 -->
        <sphere radius="0.02"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_back_wheel">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.5"/>
      </material>
    </visual>
    <!-- 物理描述 -->
    <collision>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 球体 -->
        <sphere radius="0.02"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_back_wheel">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.5"/>
      </material>
    </collision>
    <!-- 物理属性 -->
    <inertial>
      <mass value="0.02"/>
      <inertia ixx="3.2000000000000003e-06" ixy="0.0" ixz="0.0" iyy="3.2000000000000003e-06" iyz="0.0" izz="3.2000000000000003e-06"/>
    </inertial>
  </link>
  <!-- 固定连接 -->
  <joint name="back_wheel_j" type="fixed">
    <!-- 父对象 -->
    <parent link="base_link"/>
    <!-- 子对象 -->
    <child link="back_wheel"/>
    <!-- 固定位置 -->
    <origin rpy="0.0 0.0 0.0" xyz="-0.16 0.0 -0.04"/>
  </joint>
  <!-- 零件描述 -->
  <link name="imu">
    <!-- 外观描述 -->
    <visual>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 长方体 -->
        <box size="0.04 0.02 0.01"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_imu">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.6"/>
      </material>
    </visual>
    <!-- 物理描述 -->
    <collision>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 长方体 -->
        <box size="0.04 0.02 0.01"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_imu">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.6"/>
      </material>
    </collision>
    <!-- 物理属性 -->
    <inertial>
      <mass value="0.02"/>
      <inertia ixx="8.333333333333334e-07" ixy="0.0" ixz="0.0" iyy="3.3333333333333337e-06" iyz="0.0" izz="2.833333333333334e-06"/>
    </inertial>
  </link>
  <!-- 固定连接 -->
  <joint name="imu_j" type="fixed">
    <!-- 父对象 -->
    <parent link="base_link"/>
    <!-- 子对象 -->
    <child link="imu"/>
    <!-- 固定位置 -->
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.04"/>
  </joint>
  <!-- 零件描述 -->
  <link name="laser">
    <!-- 外观描述 -->
    <visual>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱体 -->
        <cylinder length="0.02" radius="0.08"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_laser">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.6"/>
      </material>
    </visual>
    <!-- 物理描述 -->
    <collision>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 圆柱体 -->
        <cylinder length="0.02" radius="0.08"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_laser">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.6"/>
      </material>
    </collision>
    <!-- 物理属性 -->
    <inertial>
      <mass value="0.08"/>
      <inertia ixx="0.00013066666666666668" ixy="0.0" ixz="0.0" iyy="0.00013066666666666668" iyz="0.0" izz="0.00025600000000000004"/>
    </inertial>
  </link>
  <!-- 固定连接 -->
  <joint name="laser_j" type="fixed">
    <!-- 父对象 -->
    <parent link="base_link"/>
    <!-- 子对象 -->
    <child link="laser"/>
    <!-- 固定位置 -->
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.06"/>
  </joint>
  <!-- 零件描述 -->
  <link name="camera">
    <!-- 外观描述 -->
    <visual>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 长方体 -->
        <box size="0.02 0.08 0.02"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_camera">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.6"/>
      </material>
    </visual>
    <!-- 物理描述 -->
    <collision>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 长方体 -->
        <box size="0.02 0.08 0.02"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_camera">
        <!-- 颜色 -->
        <color rgba="1.0 1.0 1.0 0.6"/>
      </material>
    </collision>
    <!-- 物理属性 -->
    <inertial>
      <mass value="0.08"/>
      <inertia ixx="4.533333333333334e-05" ixy="0.0" ixz="0.0" iyy="4.533333333333334e-05" iyz="0.0" izz="5.333333333333334e-06"/>
    </inertial>
  </link>
  <!-- 固定连接 -->
  <joint name="camera_j" type="fixed">
    <!-- 父对象 -->
    <parent link="base_link"/>
    <!-- 子对象 -->
    <child link="camera"/>
    <!-- 固定位置 -->
    <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.08"/>
  </joint>
  <!-- 零件描述 -->
  <link name="camera_optical">
    <!-- 外观描述 -->
    <visual>
      <!-- 相对坐标系 -->
      <origin rpy="0.0 0.0 0.0" xyz="0.0 0.0 0.0"/>
      <!-- 几何形状 -->
      <geometry>
        <!-- 长方体 -->
        <box size="0.0 0.0 0.0"/>
      </geometry>
      <!-- 材质 -->
      <material name="material_camera_optical">
        <!-- 颜色 -->
        <color rgba="0.0 0.0 0.0 0.0"/>
      </material>
    </visual>
  </link>
  <!-- 固定连接 -->
  <joint name="camera_optical_j" type="fixed">
    <!-- 父对象 -->
    <parent link="base_link"/>
    <!-- 子对象 -->
    <child link="camera_optical"/>
    <!-- 固定位置 -->
    <origin rpy="-1.57 0.0 -1.57" xyz="0.0 0.0 0.08"/>
  </joint>
  <!-- 差速控制 -->
  <gazebo>
    <!-- Gazebo差速控制插件 -->
    <plugin filename="libgazebo_ros_diff_drive.so" name="gazebo_ros_diff_drive_diffdriver">
      <!-- ROS通信配置 -->
      <ros>
        <!-- 设置命名空间 -->
        <namespace>/</namespace>
      </ros>
      <!-- 更新频率 -->
      <update_rate>100</update_rate>
      <!-- 左轮joint名称 -->
      <left_joint>left_wheel_j</left_joint>
      <!-- 右轮joint名称 -->
      <right_joint>right_wheel_j</right_joint>
      <!-- 两轮中心距离 -->
      <wheel_separation>0.32</wheel_separation>
      <!-- 轮子直径 -->
      <wheel_diameter>0.08</wheel_diameter>
      <!-- 轮子的最大扭矩 -->
      <max_wheel_torque>20</max_wheel_torque>
      <!-- 轮子的最大角加速度 -->
      <max_wheel_acceleration>1.0</max_wheel_acceleration>
      <!-- 命令话题名称 -->
      <command_topic>cmd_vel</command_topic>
      <!-- 是否发布里程计 -->
      <publish_odom>true</publish_odom>
      <!-- 是否发布里程计tf -->
      <publish_odom_tf>true</publish_odom_tf>
      <!-- 是否发布轮子tf -->
      <publish_wheel_tf>true</publish_wheel_tf>
      <!-- 里程计话题名称 -->
      <odometry_topic>odom</odometry_topic>
      <!-- 里程计坐标系 -->
      <odometry_frame>odom</odometry_frame>
      <!-- 机器人坐标系 -->
      <robot_base_frame>base_footprint</robot_base_frame>
    </plugin>
  </gazebo>
  <!-- 绑定到模型 -->
  <gazebo reference="imu">
    <!-- 启用重力 -->
    <gravity>true</gravity>
    <!-- 类型和名称 -->
    <sensor name="imu" type="imu">
      <!-- 保持打开 -->
      <always_on>true</always_on>
      <!-- 刷新率 -->
      <update_rate>100</update_rate>
      <!-- GazeboIMU插件 -->
      <plugin filename="libgazebo_ros_imu_sensor.so" name="libgazebo_ros_imu_sensor_imu">
        <!-- ROS通信配置 -->
        <ros>
          <!-- 命名空间 -->
          <namespace>/</namespace>
          <!-- 话题重映射-->
          <remapping>~/out:=imu</remapping>
        </ros>
      </plugin>
      <!-- IMU配置 -->
      <imu>
        <!-- 陀螺仪噪声 -->
        <angular_velocity>
          <x>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>2e-4</stddev>
            </noise>
          </x>
          <y>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>2e-4</stddev>
            </noise>
          </y>
          <z>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>2e-4</stddev>
            </noise>
          </z>
        </angular_velocity>
        <!-- 加速度计噪声 -->
        <linear_acceleration>
          <x>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>1.7e-2</stddev>
            </noise>
          </x>
          <y>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>1.7e-2</stddev>
            </noise>
          </y>
          <z>
            <noise type="gaussian">
              <mean>0.0</mean>
              <stddev>1.7e-2</stddev>
            </noise>
          </z>
        </linear_acceleration>
      </imu>
    </sensor>
  </gazebo>
  <!-- 绑定到模型 -->
  <gazebo reference="laser">
    <!-- 类型和名称 -->
    <sensor name="laser" type="ray">
      <!-- 挂载姿态 -->
      <pose>0 0 0 0.0 0.0 0.0</pose>
      <!-- 可视化射线 -->
      <visualize>true</visualize>
      <!-- 刷新频率 -->
      <update_rate>40</update_rate>
      <!-- 雷达配置 -->
      <ray>
        <scan>
          <horizontal>
            <!-- 采样点数量 -->
            <samples>360</samples>
            <!-- 分辨率 -->
            <resolution>1</resolution>
            <!-- 扫描的最小角度 -->
            <min_angle>0</min_angle>
            <!-- 扫描的最大角度 -->
            <max_angle>6.28</max_angle>
          </horizontal>
        </scan>
        <!-- 测距范围配置 -->
        <range>
          <!-- 最小测量距离 -->
          <min>0.20</min>
          <!-- 最大测量距离 -->
          <max>20.0</max>
          <!-- 分辨率 -->
          <resolution>0.01</resolution>
        </range>
        <!-- 噪声模型 -->
        <noise>
          <!-- 噪声类型 -->
          <type>gaussian</type>
          <!-- 噪声均值 -->
          <mean>0.0</mean>
          <!-- 噪声强度 -->
          <stddev>0.01</stddev>
        </noise>
      </ray>
      <!-- Gazebo激光雷达插件 -->
      <plugin filename="libgazebo_ros_ray_sensor.so" name="libgazebo_ros_ray_sensor_laser">
        <!-- ROS通信配置 -->
        <ros>
          <!-- 命名空间 -->
          <namespace>/</namespace>
          <!-- 话题重映射-->
          <remapping>~/out:=scan</remapping>
        </ros>
        <!-- 输出数据类型 -->
        <output_type>sensor_msgs/LaserScan</output_type>
        <!-- 最小强度阈值 -->
        <min_intensity>10.0</min_intensity>
        <!-- 坐标系名称 -->
        <frame_name>laser</frame_name>
      </plugin>
    </sensor>
  </gazebo>
  <!-- 绑定到模型 -->
  <gazebo reference="camera">
    <!-- 类型和名称 -->
    <sensor name="camera" type="depth">
      <!-- 刷新频率 -->
      <update_rate>40</update_rate>
      <!-- 相机配置 -->
      <camera>
        <!-- 水平视场角 -->
        <horizontal_fov>1.047198</horizontal_fov>
        <!-- 图像配置 -->
        <image>
          <!-- 图像宽度 -->
          <width>1280</width>
          <!-- 图像高度 -->
          <height>720</height>
          <!-- 图像颜色格式 -->
          <format>R8G8B8</format>
        </image>
        <!-- 相机裁剪 -->
        <clip>
          <!-- 最近可见距离 -->
          <near>0.2</near>
          <!-- 最远可见距离 -->
          <far>20</far>
        </clip>
      </camera>
      <!-- Gazebo深度相机插件 -->
      <plugin filename="libgazebo_ros_camera.so" name="libgazebo_ros_camera_camera">
        <!-- ROS通信配置 -->
        <ros>
          <!-- 命名空间 -->
          <namespace>/</namespace>
          <!-- 话题重映射-->
          <remapping>image_raw:=image_img</remapping>
          <remapping>camera_info:=camera_info</remapping>
          <remapping>image_trigger:=image_trigger</remapping>
        </ros>
        <!-- 相机名称 -->
        <camera_name>camera</camera_name>
        <!-- 坐标系名称 -->
        <frame_name>camera_optical</frame_name>
        <!-- 触发模式 -->
        <triggered>false</triggered>
        <!-- 基线距离 -->
        <hack_baseline>0.07</hack_baseline>
      </plugin>
    </sensor>
  </gazebo>
</robot>
